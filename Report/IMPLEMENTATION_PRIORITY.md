# 구현 우선순위 목록

> 솔직한 한 잔 (Honest Cup) 프로젝트 구현 항목 우선순위별 정리

**작성일**: 2025-12-15  
**기준 문서**: CURRENT_WORK_REPORT.md, README.md  
**현재 상태**: TDD Red 단계 완료 (FR1, FR2 테스트 작성 완료)

---

## 📋 목차

1. [우선순위 기준](#우선순위-기준)
2. [기능 요구사항 (Functional Requirements)](#기능-요구사항-functional-requirements)
3. [비기능 요구사항 (Non-Functional Requirements)](#비기능-요구사항-non-functional-requirements)
4. [인프라 및 기반 구조](#인프라-및-기반-구조)
5. [우선순위 요약](#우선순위-요약)

---

## 우선순위 기준

### 우선순위 레벨

- **P0 (Critical)**: MVP 핵심 기능, 즉시 구현 필요
- **P1 (High)**: MVP 필수 기능, 빠른 구현 필요
- **P2 (Medium)**: 중요 기능, 단계적 구현
- **P3 (Low)**: 선택적 기능, 향후 구현

### 우선순위 결정 기준

1. **비즈니스 가치**: 핵심 가치 제안과의 연관성
2. **의존성**: 다른 기능 구현에 필요한 기반 기능
3. **MVP 목표**: Phase 0 목표 달성에 필수 여부
4. **기술 복잡도**: 구현 난이도 및 리스크

---

## 기능 요구사항 (Functional Requirements)

### 🔴 P0: Critical (즉시 구현 필요)

#### FR1: 투명 정보 추적 및 시각화 제공
**현재 상태**: 🔴 Red 단계 (테스트 작성 완료)

**구현 항목**:
- [ ] 백엔드 API 구현
  - [ ] Express 앱 설정 (`backend/src/app.js`)
  - [ ] `GET /api/products/:id/tracking` 엔드포인트
  - [ ] ProductTrackingController 구현
  - [ ] 생산자 수익 비율 계산 로직
  - [ ] 농장 위치 정보 조회
  - [ ] 원산지 정보 조회
  - [ ] 에러 처리 (404)

- [ ] 프론트엔드 구현
  - [ ] ProductTracking 컴포넌트 구현
  - [ ] API 호출 함수 (`productApi.js`)
  - [ ] 지도 컴포넌트 (지도 시각화)
  - [ ] '원두 스토리 추적' 탭 UI
  - [ ] 데이터 로딩 및 에러 처리

**예상 소요 시간**: 4-6시간  
**의존성**: 데이터베이스 스키마, 상품 데이터

---

#### FR2: 윤리 영향 리포트
**현재 상태**: 🔴 Red 단계 (테스트 작성 완료)

**구현 항목**:
- [ ] 백엔드 API 구현
  - [ ] `GET /api/users/:userId/ethical-impact` 엔드포인트
  - [ ] EthicalImpactController 구현
  - [ ] 탄소 발자국 계산 서비스 (`services/carbon/`)
  - [ ] 3개월간 구매 기록 집계 로직
  - [ ] 친환경 원두 필터링 로직
  - [ ] 긍정적인 메시지 생성 로직
  - [ ] 월별 집계 데이터 생성

- [ ] 프론트엔드 구현
  - [ ] EthicalImpact 컴포넌트 구현
  - [ ] API 호출 함수 (`userApi.js`)
  - [ ] 탄소 발자국 수치 표시 UI
  - [ ] 긍정적인 메시지 표시
  - [ ] 월별 집계 차트/그래프
  - [ ] 로딩 및 에러 상태 처리

**예상 소요 시간**: 5-7시간  
**의존성**: 데이터베이스 스키마, 구매 기록 데이터, 탄소 계산 알고리즘

---

#### 인증 시스템 (기반 기능)
**현재 상태**: ⚪ 미작성

**구현 항목**:
- [ ] 사용자 인증 모듈 (`modules/auth/`)
  - [ ] 회원가입 API
  - [ ] 로그인 API
  - [ ] JWT 토큰 발급
  - [ ] 비밀번호 해시 (bcrypt)
  - [ ] 인증 미들웨어

- [ ] 프론트엔드 인증
  - [ ] 로그인 페이지
  - [ ] 회원가입 페이지
  - [ ] 인증 상태 관리
  - [ ] 토큰 저장 및 관리

**예상 소요 시간**: 6-8시간  
**의존성**: 데이터베이스 스키마 (User 모델)

---

### 🟠 P1: High (빠른 구현 필요)

#### FR3: 맞춤형 주문 시스템
**현재 상태**: ⚪ 테스트 미작성

**구현 항목**:
- [ ] 테스트 작성 (12개 케이스)
- [ ] 백엔드 API 구현
  - [ ] `GET /api/products/search` 엔드포인트
  - [ ] 필터링 로직 (여성 생산자, 친환경 포장재)
  - [ ] 다중 필터 조합 처리
  - [ ] 검색 결과 정렬

- [ ] 프론트엔드 구현
  - [ ] 검색 페이지 구현
  - [ ] 필터 UI 컴포넌트
  - [ ] 검색 결과 리스트
  - [ ] 주문/결제 프로세스
  - [ ] 장바구니 기능

**예상 소요 시간**: 8-10시간 (테스트 포함)  
**의존성**: 상품 데이터, 필터링 로직

---

#### 데이터베이스 스키마 설계
**현재 상태**: ⚪ 미작성

**구현 항목**:
- [ ] 스키마 정의 (`database/schemas/`)
  - [ ] User 테이블
  - [ ] Product 테이블
  - [ ] Order 테이블
  - [ ] Purchase 테이블
  - [ ] Tracking 테이블
  - [ ] Partner 테이블
  - [ ] Batch 테이블

- [ ] 마이그레이션 파일 (`database/migrations/`)
- [ ] 시드 데이터 (`database/seeds/`)

**예상 소요 시간**: 4-6시간  
**의존성**: 없음 (최우선)

---

### 🟡 P2: Medium (단계적 구현)

#### FR5: 파트너 관리 및 자동 정산 대시보드
**현재 상태**: ⚪ 테스트 미작성

**구현 항목**:
- [ ] 테스트 작성 (13개 케이스)
- [ ] 백엔드 API 구현
  - [ ] `GET /api/partner/settlement` 엔드포인트
  - [ ] 정산 계산 로직
  - [ ] 플랫폼 수수료 계산
  - [ ] 기간별 집계

- [ ] 프론트엔드 구현
  - [ ] 파트너 대시보드
  - [ ] 정산 보고서 UI
  - [ ] 차트/그래프 시각화

**예상 소요 시간**: 6-8시간 (테스트 포함)  
**의존성**: 주문 데이터, 정산 로직

---

#### 공통 컴포넌트 및 UI 라이브러리
**현재 상태**: ⚪ 미작성

**구현 항목**:
- [ ] 공통 컴포넌트 (`components/common/`)
  - [ ] Button 컴포넌트
  - [ ] Input 컴포넌트
  - [ ] Modal 컴포넌트
  - [ ] Loading Spinner
  - [ ] Error Message

- [ ] 레이아웃 컴포넌트
  - [ ] Header/Navigation
  - [ ] Footer
  - [ ] Layout Wrapper

**예상 소요 시간**: 4-6시간  
**의존성**: 없음

---

### 🟢 P3: Low (향후 구현)

#### FR4: 데이터 검증 및 블록체인 연동
**현재 상태**: ⚪ 테스트 미작성

**구현 항목**:
- [ ] 테스트 작성 (Mock 블록체인)
- [ ] 백엔드 API 구현
  - [ ] `POST /api/admin/batches/:id/approve` 엔드포인트
  - [ ] 배치 데이터 검증 로직
  - [ ] 블록체인 연동 서비스 (Mock)
  - [ ] 승인 권한 검증

- [ ] 프론트엔드 구현
  - [ ] 관리자 대시보드
  - [ ] 승인 대기 목록
  - [ ] 블록체인 기록 상태 표시

**예상 소요 시간**: 8-12시간 (Mock 구현)  
**의존성**: 관리자 권한 시스템, 블록체인 기술

**참고**: MVP에서는 Mock 구현으로 대체 가능

---

## 비기능 요구사항 (Non-Functional Requirements)

### 🔴 P0: Critical (즉시 구현 필요)

#### 보안 요구사항

**데이터 암호화**:
- [ ] 비밀번호 해시 함수 (bcrypt) 구현
- [ ] JWT 토큰 암호화
- [ ] 민감 정보 암호화

**통신 보안**:
- [ ] HTTPS/TLS 설정
- [ ] CORS 설정
- [ ] 보안 헤더 설정

**인젝션 방어**:
- [ ] SQL Injection 방어 (ORM 사용 또는 Prepared Statement)
- [ ] XSS 방어 (입력 값 검증 및 이스케이프)
- [ ] 입력 값 검증 미들웨어

**예상 소요 시간**: 4-6시간

---

#### 성능 기대치

**응답 시간 최적화**:
- [ ] 데이터베이스 인덱싱
- [ ] API 응답 캐싱 (Redis 선택적)
- [ ] 쿼리 최적화

**이미지 최적화**:
- [ ] WebP 형식 변환
- [ ] 지연 로딩 (Lazy Loading) 구현
- [ ] 이미지 압축

**예상 소요 시간**: 3-5시간

---

### 🟠 P1: High (빠른 구현 필요)

#### 사용성 표준

**모바일 최적화**:
- [ ] 반응형 디자인 구현
- [ ] 모바일 레이아웃 테스트
- [ ] 터치 이벤트 최적화

**직관적 내비게이션**:
- [ ] 라우팅 구조 설계
- [ ] 3클릭 이내 접근 보장
- [ ] 브레드크럼 네비게이션

**예상 소요 시간**: 6-8시간

---

#### 확장성 고려사항

**모듈 분리**:
- [ ] 독립적인 서비스 계층 구조 유지
- [ ] API 버전 관리
- [ ] 마이크로서비스 전환 준비

**예상 소요 시간**: 지속적 (설계 단계에서 반영)

---

### 🟡 P2: Medium (단계적 구현)

#### 동시 사용자 처리

- [ ] 동시 접속 50명 처리 테스트
- [ ] 부하 테스트
- [ ] 성능 모니터링

**예상 소요 시간**: 4-6시간

---

## 인프라 및 기반 구조

### 🔴 P0: Critical (즉시 구현 필요)

#### 데이터베이스 설정

- [ ] PostgreSQL 스키마 설계
- [ ] 마이그레이션 파일 작성
- [ ] 시드 데이터 생성
- [ ] 데이터베이스 연결 설정

**예상 소요 시간**: 4-6시간

---

#### Express 앱 기본 구조

- [ ] Express 서버 설정
- [ ] 라우팅 구조
- [ ] 미들웨어 설정
- [ ] 에러 핸들링

**예상 소요 시간**: 2-3시간

---

#### React 앱 기본 구조

- [ ] React 앱 초기화
- [ ] 라우팅 설정 (React Router)
- [ ] 상태 관리 설정 (Redux/Zustand)
- [ ] API 클라이언트 설정 (Axios)

**예상 소요 시간**: 3-4시간

---

### 🟠 P1: High (빠른 구현 필요)

#### 환경 변수 관리

- [ ] `.env` 파일 템플릿
- [ ] 환경별 설정 분리
- [ ] 보안 키 관리

**예상 소요 시간**: 1-2시간

---

#### 로깅 및 모니터링

- [ ] 로깅 시스템 구축
- [ ] 에러 로깅
- [ ] 성능 모니터링 (선택적)

**예상 소요 시간**: 2-3시간

---

### 🟡 P2: Medium (단계적 구현)

#### CI/CD 파이프라인

- [ ] GitHub Actions 설정
- [ ] 자동 테스트 실행
- [ ] 자동 배포 (선택적)

**예상 소요 시간**: 4-6시간

---

## 우선순위 요약

### 즉시 구현 (P0 - Critical)

1. **데이터베이스 스키마 설계** (최우선)
2. **인증 시스템** (기반 기능)
3. **FR1 구현** (Green 단계)
4. **FR2 구현** (Green 단계)
5. **보안 요구사항** (데이터 암호화, 인젝션 방어)
6. **Express/React 기본 구조**

**예상 소요 시간**: 24-36시간 (3-5일)

---

### 빠른 구현 (P1 - High)

1. **FR3 테스트 작성 및 구현**
2. **공통 컴포넌트 구현**
3. **모바일 최적화**
4. **성능 최적화** (이미지, 응답 시간)

**예상 소요 시간**: 20-26시간 (2.5-3일)

---

### 단계적 구현 (P2 - Medium)

1. **FR5 테스트 작성 및 구현**
2. **동시 사용자 처리 최적화**
3. **로깅 및 모니터링**

**예상 소요 시간**: 14-20시간 (2-2.5일)

---

### 향후 구현 (P3 - Low)

1. **FR4 테스트 작성 및 구현** (Mock)
2. **CI/CD 파이프라인**
3. **블록체인 실제 연동** (Phase 1 이후)

**예상 소요 시간**: 12-18시간 (1.5-2일)

---

## 구현 로드맵

### Week 1: 기반 구조 구축
- 데이터베이스 스키마 설계
- Express/React 기본 구조
- 인증 시스템
- FR1, FR2 Green 단계

### Week 2: 핵심 기능 구현
- FR3 테스트 작성 및 구현
- 공통 컴포넌트
- 보안 요구사항
- 모바일 최적화

### Week 3: 추가 기능 및 최적화
- FR5 테스트 작성 및 구현
- 성능 최적화
- 로깅 및 모니터링
- 테스트 커버리지 80% 달성

### Week 4+: 선택적 기능
- FR4 구현 (Mock)
- CI/CD 구축
- E2E 테스트

---

## 의존성 관계

```
데이터베이스 스키마
    ↓
인증 시스템
    ↓
FR1 구현 ← FR2 구현
    ↓
FR3 구현
    ↓
FR5 구현
    ↓
FR4 구현 (선택적)
```

---

**작성일**: 2025-12-15  
**다음 업데이트**: 구현 진행에 따라 업데이트

